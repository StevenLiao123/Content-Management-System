{"ast":null,"code":"import \"antd/es/message/style\";\nimport _message from \"antd/es/message\";\n\n/*\n    This module is providing API functions for different requests.\n*/\nimport jsonp from 'jsonp';\nimport ajax from './ajax';\n// Login\nexport const reqLogin = (username, password) => ajax('/user/login', {\n  username,\n  password\n}, 'POST'); // Sign up\n\nexport const reqSignup = (username, password, email) => ajax('/user/signup', {\n  username,\n  password,\n  email\n}, 'POST'); // get a list of categories based on the parentId\n\nexport const reqCategories = parentId => ajax('/category/list', {\n  parentId\n}); // Add a category\n\nexport const addCategory = (categoryName, parentId) => ajax('/category/add', {\n  categoryName,\n  parentId\n}, 'POST'); // Update a category\n// jsonp request for weather\n\nexport const reqWeather = city => {\n  return new Promise((resolve, reject) => {\n    const url = \"https://api.openweathermap.org/data/2.5/weather?q=\".concat(city, \"&appid=5481d01e1f55fc521a219134e8545e8e\"); // execute jsonp request\n\n    jsonp(url, {}, (error, data) => {\n      console.log('jsonp', error, data);\n\n      if (!error) {\n        // get the name, icon and description from openWeather API\n        const name = data.name;\n        const icon = data.weather[0].icon;\n        const temp = data.main.temp;\n        resolve({\n          name,\n          temp,\n          icon\n        });\n        console.log('jsonp', name, temp, icon);\n      } else {\n        _message.error('Get weather API Failed!');\n      }\n    });\n  });\n}; // Add an user\n//export const addUser = (user) => ajax('/user/register', user, 'POST');\n\nreqWeather('Sydney');","map":{"version":3,"sources":["/Users/stevenl/Desktop/Projects/Content-Management-System/client/src/api/index.js"],"names":["jsonp","ajax","reqLogin","username","password","reqSignup","email","reqCategories","parentId","addCategory","categoryName","reqWeather","city","Promise","resolve","reject","url","error","data","console","log","name","icon","weather","temp","main"],"mappings":";;;AAAA;;;AAGA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AAGA;AACA,OAAO,MAAMC,QAAQ,GAAG,CAACC,QAAD,EAAWC,QAAX,KAAwBH,IAAI,CAAC,aAAD,EAAgB;AAAEE,EAAAA,QAAF;AAAYC,EAAAA;AAAZ,CAAhB,EAAwC,MAAxC,CAA7C,C,CAEP;;AACA,OAAO,MAAMC,SAAS,GAAG,CAACF,QAAD,EAAWC,QAAX,EAAqBE,KAArB,KAA+BL,IAAI,CAAC,cAAD,EAAiB;AAAEE,EAAAA,QAAF;AAAYC,EAAAA,QAAZ;AAAsBE,EAAAA;AAAtB,CAAjB,EAAgD,MAAhD,CAArD,C,CAEP;;AACA,OAAO,MAAMC,aAAa,GAAIC,QAAD,IAAcP,IAAI,CAAC,gBAAD,EAAmB;AAACO,EAAAA;AAAD,CAAnB,CAAxC,C,CAEP;;AACA,OAAO,MAAMC,WAAW,GAAG,CAACC,YAAD,EAAeF,QAAf,KAA4BP,IAAI,CAAC,eAAD,EAAkB;AAACS,EAAAA,YAAD;AAAeF,EAAAA;AAAf,CAAlB,EAA4C,MAA5C,CAApD,C,CAEP;AAGA;;AACA,OAAO,MAAMG,UAAU,GAAIC,IAAD,IAAU;AAEhC,SAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpC,UAAMC,GAAG,+DAAwDJ,IAAxD,4CAAT,CADoC,CAGpC;;AACAZ,IAAAA,KAAK,CAACgB,GAAD,EAAM,EAAN,EAAU,CAACC,KAAD,EAAQC,IAAR,KAAiB;AAC5BC,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBH,KAArB,EAA4BC,IAA5B;;AACA,UAAI,CAACD,KAAL,EAAY;AACR;AACA,cAAMI,IAAI,GAAGH,IAAI,CAACG,IAAlB;AACA,cAAMC,IAAI,GAAGJ,IAAI,CAACK,OAAL,CAAa,CAAb,EAAgBD,IAA7B;AACA,cAAME,IAAI,GAAGN,IAAI,CAACO,IAAL,CAAUD,IAAvB;AACAV,QAAAA,OAAO,CAAC;AAAEO,UAAAA,IAAF;AAAQG,UAAAA,IAAR;AAAcF,UAAAA;AAAd,SAAD,CAAP;AACAH,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBC,IAArB,EAA2BG,IAA3B,EAAiCF,IAAjC;AACH,OAPD,MAOO;AACH,iBAAQL,KAAR,CAAc,yBAAd;AACH;AACJ,KAZI,CAAL;AAaH,GAjBM,CAAP;AAkBH,CApBM,C,CAsBP;AACA;;AAEAN,UAAU,CAAC,QAAD,CAAV","sourcesContent":["/*\n    This module is providing API functions for different requests.\n*/\nimport jsonp from 'jsonp';\nimport ajax from './ajax';\nimport { message } from 'antd';\n\n// Login\nexport const reqLogin = (username, password) => ajax('/user/login', { username, password }, 'POST');\n\n// Sign up\nexport const reqSignup = (username, password, email) => ajax('/user/signup', { username, password, email }, 'POST');\n\n// get a list of categories based on the parentId\nexport const reqCategories = (parentId) => ajax('/category/list', {parentId});\n\n// Add a category\nexport const addCategory = (categoryName, parentId) => ajax('/category/add', {categoryName, parentId}, 'POST');\n\n// Update a category\n\n\n// jsonp request for weather\nexport const reqWeather = (city) => {\n\n    return new Promise((resolve, reject) => {\n        const url = `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=5481d01e1f55fc521a219134e8545e8e`;\n\n        // execute jsonp request\n        jsonp(url, {}, (error, data) => {\n            console.log('jsonp', error, data);\n            if (!error) {\n                // get the name, icon and description from openWeather API\n                const name = data.name;\n                const icon = data.weather[0].icon;\n                const temp = data.main.temp;\n                resolve({ name, temp, icon } );\n                console.log('jsonp', name, temp, icon);\n            } else {\n                message.error('Get weather API Failed!');\n            }\n        });\n    });\n}\n\n// Add an user\n//export const addUser = (user) => ajax('/user/register', user, 'POST');\n\nreqWeather('Sydney');\n"]},"metadata":{},"sourceType":"module"}