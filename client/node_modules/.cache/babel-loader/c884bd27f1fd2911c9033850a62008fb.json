{"ast":null,"code":"'use strict';\n\nvar implementation = require('./implementation');\n\nvar lacksProperEnumerationOrder = function () {\n  if (!Object.assign) {\n    return false;\n  } // v8, specifically in node 4.x, has a bug with incorrect property enumeration order\n  // note: this does not detect the bug unless there's 20 characters\n\n\n  var str = 'abcdefghijklmnopqrst';\n  var letters = str.split('');\n  var map = {};\n\n  for (var i = 0; i < letters.length; ++i) {\n    map[letters[i]] = letters[i];\n  }\n\n  var obj = Object.assign({}, map);\n  var actual = '';\n\n  for (var k in obj) {\n    actual += k;\n  }\n\n  return str !== actual;\n};\n\nvar assignHasPendingExceptions = function () {\n  if (!Object.assign || !Object.preventExtensions) {\n    return false;\n  } // Firefox 37 still has \"pending exception\" logic in its Object.assign implementation,\n  // which is 72% slower than our shim, and Firefox 40's native implementation.\n\n\n  var thrower = Object.preventExtensions({\n    1: 2\n  });\n\n  try {\n    Object.assign(thrower, 'xy');\n  } catch (e) {\n    return thrower[1] === 'y';\n  }\n\n  return false;\n};\n\nmodule.exports = function getPolyfill() {\n  if (!Object.assign) {\n    return implementation;\n  }\n\n  if (lacksProperEnumerationOrder()) {\n    return implementation;\n  }\n\n  if (assignHasPendingExceptions()) {\n    return implementation;\n  }\n\n  return Object.assign;\n};","map":null,"metadata":{},"sourceType":"script"}