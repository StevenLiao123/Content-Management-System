{"ast":null,"code":"import \"antd/es/message/style\";\nimport _message from \"antd/es/message\";\n\n/*\n    This module is providing API functions for different requests.\n*/\nimport jsonp from 'jsonp';\nimport ajax from './ajax';\nconst BASE = \"http://localhost:4000\"; // Login\n\nexport const reqLogin = (username, password) => ajax('/user/login', {\n  username,\n  password\n}, 'POST'); // Sign up\n\nexport const reqSignup = (username, password, email) => ajax('/user/signup', {\n  username,\n  password,\n  email\n}, 'POST'); // get a list of categories based on the parentId\n\nexport const reqCategories = parentId => ajax(BASE + '/category/list', {\n  parentId\n}); // Add a category\n\nexport const reqAddCategory = (name, parentId) => ajax(BASE + '/category/add', {\n  name,\n  parentId\n}, 'POST'); // Update a category\n\nexport const reqUpdateCategory = (_id, name) => ajax(BASE + '/category/update', {\n  _id,\n  name\n}, 'POST'); // jsonp request for weather\n\nexport const reqWeather = city => {\n  return new Promise((resolve, reject) => {\n    const url = \"https://api.openweathermap.org/data/2.5/weather?q=\".concat(city, \"&appid=5481d01e1f55fc521a219134e8545e8e\"); // execute jsonp request\n\n    jsonp(url, {}, (error, data) => {\n      console.log('jsonp', error, data);\n\n      if (!error) {\n        // get the name, icon and description from openWeather API\n        const name = data.name;\n        const icon = data.weather[0].icon;\n        const temp = data.main.temp;\n        resolve({\n          name,\n          temp,\n          icon\n        });\n        console.log('jsonp', name, temp, icon);\n      } else {\n        _message.error('Get weather API Failed!');\n      }\n    });\n  });\n};\nreqWeather('Sydney'); // Add an user\n//export const addUser = (user) => ajax('/user/register', user, 'POST');","map":{"version":3,"sources":["/Users/stevenl/Desktop/Projects/Content-Management-System/client/src/api/index.js"],"names":["jsonp","ajax","BASE","reqLogin","username","password","reqSignup","email","reqCategories","parentId","reqAddCategory","name","reqUpdateCategory","_id","reqWeather","city","Promise","resolve","reject","url","error","data","console","log","icon","weather","temp","main"],"mappings":";;;AAAA;;;AAGA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AAGA,MAAMC,IAAI,GAAG,uBAAb,C,CAEA;;AACA,OAAO,MAAMC,QAAQ,GAAG,CAACC,QAAD,EAAWC,QAAX,KAAwBJ,IAAI,CAAC,aAAD,EAAgB;AAAEG,EAAAA,QAAF;AAAYC,EAAAA;AAAZ,CAAhB,EAAwC,MAAxC,CAA7C,C,CAEP;;AACA,OAAO,MAAMC,SAAS,GAAG,CAACF,QAAD,EAAWC,QAAX,EAAqBE,KAArB,KAA+BN,IAAI,CAAC,cAAD,EAAiB;AAAEG,EAAAA,QAAF;AAAYC,EAAAA,QAAZ;AAAsBE,EAAAA;AAAtB,CAAjB,EAAgD,MAAhD,CAArD,C,CAEP;;AACA,OAAO,MAAMC,aAAa,GAAIC,QAAD,IAAcR,IAAI,CAACC,IAAI,GAAG,gBAAR,EAA0B;AAACO,EAAAA;AAAD,CAA1B,CAAxC,C,CAEP;;AACA,OAAO,MAAMC,cAAc,GAAG,CAACC,IAAD,EAAOF,QAAP,KAAoBR,IAAI,CAACC,IAAI,GAAG,eAAR,EAAyB;AAACS,EAAAA,IAAD;AAAOF,EAAAA;AAAP,CAAzB,EAA2C,MAA3C,CAA/C,C,CAEP;;AACA,OAAO,MAAMG,iBAAiB,GAAG,CAACC,GAAD,EAAMF,IAAN,KAAeV,IAAI,CAACC,IAAI,GAAG,kBAAR,EAA4B;AAACW,EAAAA,GAAD;AAAMF,EAAAA;AAAN,CAA5B,EAAyC,MAAzC,CAA7C,C,CAGP;;AACA,OAAO,MAAMG,UAAU,GAAIC,IAAD,IAAU;AAEhC,SAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpC,UAAMC,GAAG,+DAAwDJ,IAAxD,4CAAT,CADoC,CAGpC;;AACAf,IAAAA,KAAK,CAACmB,GAAD,EAAM,EAAN,EAAU,CAACC,KAAD,EAAQC,IAAR,KAAiB;AAC5BC,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBH,KAArB,EAA4BC,IAA5B;;AACA,UAAI,CAACD,KAAL,EAAY;AACR;AACA,cAAMT,IAAI,GAAGU,IAAI,CAACV,IAAlB;AACA,cAAMa,IAAI,GAAGH,IAAI,CAACI,OAAL,CAAa,CAAb,EAAgBD,IAA7B;AACA,cAAME,IAAI,GAAGL,IAAI,CAACM,IAAL,CAAUD,IAAvB;AACAT,QAAAA,OAAO,CAAC;AAAEN,UAAAA,IAAF;AAAQe,UAAAA,IAAR;AAAcF,UAAAA;AAAd,SAAD,CAAP;AACAF,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBZ,IAArB,EAA2Be,IAA3B,EAAiCF,IAAjC;AACH,OAPD,MAOO;AACH,iBAAQJ,KAAR,CAAc,yBAAd;AACH;AACJ,KAZI,CAAL;AAaH,GAjBM,CAAP;AAkBH,CApBM;AAsBPN,UAAU,CAAC,QAAD,CAAV,C,CAEA;AACA","sourcesContent":["/*\n    This module is providing API functions for different requests.\n*/\nimport jsonp from 'jsonp';\nimport ajax from './ajax';\nimport { message } from 'antd';\n\nconst BASE = \"http://localhost:4000\";\n\n// Login\nexport const reqLogin = (username, password) => ajax('/user/login', { username, password }, 'POST');\n\n// Sign up\nexport const reqSignup = (username, password, email) => ajax('/user/signup', { username, password, email }, 'POST');\n\n// get a list of categories based on the parentId\nexport const reqCategories = (parentId) => ajax(BASE + '/category/list', {parentId});\n\n// Add a category\nexport const reqAddCategory = (name, parentId) => ajax(BASE + '/category/add', {name, parentId}, 'POST');\n\n// Update a category\nexport const reqUpdateCategory = (_id, name) => ajax(BASE + '/category/update', {_id, name}, 'POST');\n\n\n// jsonp request for weather\nexport const reqWeather = (city) => {\n\n    return new Promise((resolve, reject) => {\n        const url = `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=5481d01e1f55fc521a219134e8545e8e`;\n\n        // execute jsonp request\n        jsonp(url, {}, (error, data) => {\n            console.log('jsonp', error, data);\n            if (!error) {\n                // get the name, icon and description from openWeather API\n                const name = data.name;\n                const icon = data.weather[0].icon;\n                const temp = data.main.temp;\n                resolve({ name, temp, icon } );\n                console.log('jsonp', name, temp, icon);\n            } else {\n                message.error('Get weather API Failed!');\n            }\n        });\n    });\n}\n\nreqWeather('Sydney');\n\n// Add an user\n//export const addUser = (user) => ajax('/user/register', user, 'POST');\n"]},"metadata":{},"sourceType":"module"}