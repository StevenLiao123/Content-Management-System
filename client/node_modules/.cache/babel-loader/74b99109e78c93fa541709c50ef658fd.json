{"ast":null,"code":"import\"antd/es/icon/style\";import _Icon from\"antd/es/icon\";import _classCallCheck from\"/Users/stevenl/Desktop/Projects/Content-Management-System/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/stevenl/Desktop/Projects/Content-Management-System/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/stevenl/Desktop/Projects/Content-Management-System/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/stevenl/Desktop/Projects/Content-Management-System/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/stevenl/Desktop/Projects/Content-Management-System/client/node_modules/@babel/runtime/helpers/esm/inherits\";import\"antd/es/menu/style\";import _Menu from\"antd/es/menu\";import React,{Component}from'react';import{Link,withRouter}from'react-router-dom';import menuList from'../../config/menuConfig';import logo from'../../assets/images/logo.jpeg';import'./index.less';var SubMenu=_Menu.SubMenu;var LeftNav=/*#__PURE__*/function(_Component){_inherits(LeftNav,_Component);function LeftNav(){var _getPrototypeOf2;var _this;_classCallCheck(this,LeftNav);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(LeftNav)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.getMenuNodes=function(menuList){// get the path of current route\nvar path=_this.props.location.pathname;return menuList.map(function(item){if(!item.children){return React.createElement(_Menu.Item,{key:item.key},React.createElement(Link,{to:item.key},React.createElement(_Icon,{type:item.icon}),React.createElement(\"span\",null,item.title)));}else{// find a subitem that is macthed by the current route\nvar subItem=item.children.find(function(subItem){return subItem.key===path;});if(subItem){_this.openKey=item.key;}return React.createElement(SubMenu,{key:item.key,title:React.createElement(\"span\",null,React.createElement(_Icon,{type:item.icon}),React.createElement(\"span\",null,item.title))},_this.getMenuNodes(item.children));}});};return _this;}_createClass(LeftNav,[{key:\"componentWillMount\",//  execute the getMenuNodes function before the first render\nvalue:function componentWillMount(){this.menuNodes=this.getMenuNodes(menuList);}},{key:\"render\",value:function render(){// get the path of current route\nvar path=this.props.location.pathname;var openKey=this.openKey;return React.createElement(\"div\",{className:\"left-nav\"},React.createElement(Link,{to:\"/\",className:\"left-nav-header\"},React.createElement(\"img\",{src:logo,alt:\"logo\"}),React.createElement(\"h1\",null,\"CMS\")),React.createElement(_Menu,{selectedKeys:[path],defaultOpenKeys:[openKey],mode:\"inline\",theme:\"dark\"},this.menuNodes));}}]);return LeftNav;}(Component);export default withRouter(LeftNav);","map":{"version":3,"sources":["/Users/stevenl/Desktop/Projects/Content-Management-System/client/src/components/left-nav/index.js"],"names":["React","Component","Link","withRouter","menuList","logo","SubMenu","LeftNav","getMenuNodes","path","props","location","pathname","map","item","children","key","icon","title","subItem","find","openKey","menuNodes"],"mappings":"m2BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAT,CAAeC,UAAf,KAAiC,kBAAjC,CAGA,MAAOC,CAAAA,QAAP,KAAqB,yBAArB,CACA,MAAOC,CAAAA,IAAP,KAAiB,+BAAjB,CACA,MAAO,cAAP,C,GAGQC,CAAAA,O,OAAAA,O,IAEFC,CAAAA,O,mYAEFC,Y,CAAe,SAACJ,QAAD,CAAc,CACzB;AACA,GAAMK,CAAAA,IAAI,CAAG,MAAKC,KAAL,CAAWC,QAAX,CAAoBC,QAAjC,CAEA,MAAOR,CAAAA,QAAQ,CAACS,GAAT,CAAa,SAAAC,IAAI,CAAI,CACxB,GAAI,CAACA,IAAI,CAACC,QAAV,CAAoB,CAChB,MACI,2BAAM,IAAN,EAAW,GAAG,CAAED,IAAI,CAACE,GAArB,EACI,oBAAC,IAAD,EAAM,EAAE,CAAEF,IAAI,CAACE,GAAf,EACI,2BAAM,IAAI,CAAEF,IAAI,CAACG,IAAjB,EADJ,CAEI,gCAAOH,IAAI,CAACI,KAAZ,CAFJ,CADJ,CADJ,CAQH,CATD,IASO,CACH;AACA,GAAMC,CAAAA,OAAO,CAAGL,IAAI,CAACC,QAAL,CAAcK,IAAd,CAAmB,SAAAD,OAAO,QAAIA,CAAAA,OAAO,CAACH,GAAR,GAAgBP,IAApB,EAA1B,CAAhB,CAEA,GAAIU,OAAJ,CAAa,CACT,MAAKE,OAAL,CAAeP,IAAI,CAACE,GAApB,CACH,CAED,MACI,qBAAC,OAAD,EACI,GAAG,CAAEF,IAAI,CAACE,GADd,CAEI,KAAK,CACD,gCACI,2BAAM,IAAI,CAAEF,IAAI,CAACG,IAAjB,EADJ,CAEI,gCAAOH,IAAI,CAACI,KAAZ,CAFJ,CAHR,EAUQ,MAAKV,YAAL,CAAkBM,IAAI,CAACC,QAAvB,CAVR,CADJ,CAeH,CACJ,CAlCM,CAAP,CAmCH,C,+DAED;mCACqB,CACjB,KAAKO,SAAL,CAAiB,KAAKd,YAAL,CAAkBJ,QAAlB,CAAjB,CACH,C,uCAEQ,CACL;AACA,GAAMK,CAAAA,IAAI,CAAG,KAAKC,KAAL,CAAWC,QAAX,CAAoBC,QAAjC,CACA,GAAMS,CAAAA,OAAO,CAAG,KAAKA,OAArB,CAGA,MACI,4BAAK,SAAS,CAAC,UAAf,EACI,oBAAC,IAAD,EAAM,EAAE,CAAC,GAAT,CAAa,SAAS,CAAC,iBAAvB,EACI,2BAAK,GAAG,CAAEhB,IAAV,CAAgB,GAAG,CAAC,MAApB,EADJ,CAEI,oCAFJ,CADJ,CAKI,2BACI,YAAY,CAAE,CAACI,IAAD,CADlB,CAEI,eAAe,CAAE,CAACY,OAAD,CAFrB,CAGI,IAAI,CAAC,QAHT,CAII,KAAK,CAAC,MAJV,EAOQ,KAAKC,SAPb,CALJ,CADJ,CAkBH,C,qBAxEiBrB,S,EA2EtB,cAAeE,CAAAA,UAAU,CAACI,OAAD,CAAzB","sourcesContent":["import React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { Menu, Icon } from 'antd';\n\nimport menuList from '../../config/menuConfig';\nimport logo from '../../assets/images/logo.jpeg';\nimport './index.less';\n\n\nconst { SubMenu } = Menu;\n\nclass LeftNav extends Component {\n\n    getMenuNodes = (menuList) => {\n        // get the path of current route\n        const path = this.props.location.pathname;\n\n        return menuList.map(item => {\n            if (!item.children) {\n                return (\n                    <Menu.Item key={item.key}>\n                        <Link to={item.key} >\n                            <Icon type={item.icon} />\n                            <span>{item.title}</span>\n                        </Link>\n                    </Menu.Item>\n                )\n            } else {\n                // find a subitem that is macthed by the current route\n                const subItem = item.children.find(subItem => subItem.key === path);\n\n                if (subItem) {\n                    this.openKey = item.key;\n                }\n\n                return (\n                    <SubMenu\n                        key={item.key}\n                        title={\n                            <span>\n                                <Icon type={item.icon} />\n                                <span>{item.title}</span>\n                            </span>\n                        }\n                    >\n                        {\n                            this.getMenuNodes(item.children)\n                        }\n                    </SubMenu>\n                )\n            }\n        });\n    }\n\n    //  execute the getMenuNodes function before the first render\n    componentWillMount() {\n        this.menuNodes = this.getMenuNodes(menuList);\n    }\n\n    render() {\n        // get the path of current route\n        const path = this.props.location.pathname;\n        const openKey = this.openKey\n\n\n        return (\n            <div className=\"left-nav\">\n                <Link to='/' className=\"left-nav-header\">\n                    <img src={logo} alt=\"logo\" />\n                    <h1>CMS</h1>\n                </Link>\n                <Menu\n                    selectedKeys={[path]}\n                    defaultOpenKeys={[openKey]}\n                    mode=\"inline\"\n                    theme=\"dark\"\n                >\n                    {\n                        this.menuNodes\n                    }\n                </Menu>\n            </div>\n        )\n    }\n}\n\nexport default withRouter(LeftNav);"]},"metadata":{},"sourceType":"module"}